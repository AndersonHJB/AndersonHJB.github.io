---
title: å¸¦ä½ ç™½å«–ä¹‹ä½¿ç”¨npmå½“å›¾åºŠ
tags:
  - å›¾åºŠ
  - ç™½å«–
categories:
  - ITå°æŠ€å·§
description: è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨npmå›¾åºŠè¿›è¡Œå›¾ç‰‡å­˜å‚¨å’Œå¼•ç”¨ã€‚é¦–å…ˆéœ€è¦æ³¨å†Œè´¦å·å¹¶å®Œæˆé‚®ç®±éªŒè¯ï¼Œç„¶åŽä¸‹è½½å›¾åºŠä»“åº“å¹¶è¿›è¡Œåˆå§‹åŒ–é…ç½®ã€‚åŒ…åéœ€è¦äº‹å…ˆç¡®è®¤æ²¡æœ‰å’Œåˆ«äººå·²å‘å¸ƒçš„åŒ…é‡å¤ã€‚å»ºè®®ä½¿ç”¨å›½å†…èŠ‚ç‚¹è¿›è¡Œä¸Šä¼ å’Œéƒ¨ç½²ï¼Œå¯ä»¥èŠ‚çœæ—¶é—´å’Œé¿å…éœ€è¦ä½¿ç”¨æ¢¯å­ã€‚æ¯æ¬¡æ›´æ–°å›¾åºŠéƒ½éœ€è¦å…ˆä¿®æ”¹ç‰ˆæœ¬å·ï¼Œç„¶åŽè§¦å‘éƒ¨ç½²ã€‚å¤§ç‰ˆæœ¬æ›´æ–°éœ€è¦æ‰‹åŠ¨æ”¹å˜ç‰ˆæœ¬å·ã€‚
top_img: /img/posts/P03-Tips/01-ä½¿ç”¨npmå½“å›¾åºŠ/640.jpeg
cover: /img/posts/P03-Tips/01-ä½¿ç”¨npmå½“å›¾åºŠ/01-ä½¿ç”¨npmå½“å›¾åºŠ.webp
comments: true
toc: true
highlight_shrink: false
swiper_index: 1
top_group_index: 1
background: '#fff'
aside: true
ai:
  - è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨npmå›¾åºŠæ¥å­˜å‚¨å›¾ç‰‡ï¼Œå¹¶å‘å¸ƒåˆ°npmå…¬å…±åº“ã€‚é¦–å…ˆéœ€è¦æ³¨å†Œè´¦å·ï¼Œå®Œæˆé‚®ç®±éªŒè¯åŽæ‰¾åˆ°ä¹‹å‰åˆ›å»ºçš„å›¾åºŠä»“åº“ï¼Œå¹¶åœ¨æœ¬åœ°åˆé€‚çš„ä½ç½®ä¸‹è½½ä»“åº“ã€‚æŽ¥ç€è¿›è¡Œåˆå§‹åŒ–è®¾ç½®åŽï¼Œå¯ä»¥æŒ‰ç…§æŒ‡ç¤ºè¿›è¡Œé…ç½®å¹¶å‘å¸ƒåˆ°å…¬å…±åº“ã€‚ä½¿ç”¨npmå›¾åºŠå¯ä»¥é¿å…æ¯æ¬¡åœ¨æœ¬åœ°ä¸Šä¼ å›¾ç‰‡çš„éº»çƒ¦ï¼Œé€šè¿‡è‡ªåŠ¨éƒ¨ç½²æ–°çš„å›¾ç‰‡å’Œæ›´æ–°ç‰ˆæœ¬å·æ¥å®žçŽ°è‡ªåŠ¨åŒ–ã€‚
  - è¿™ç¯‡æ–‡ç« ä»‹ç»äº†ä½¿ç”¨npmå›¾åºŠè¿›è¡Œå›¾ç‰‡å­˜å‚¨å’Œç®¡ç†çš„æ­¥éª¤ï¼ŒåŒ…æ‹¬æ³¨å†Œè´¦å·ã€åˆ›å»ºå›¾åºŠä»“åº“ã€é…ç½®åŒ…åã€åˆå§‹åŒ–æŒ‡ä»¤ã€å‘å¸ƒæŒ‡ä»¤ç­‰æ“ä½œï¼ŒåŒæ—¶ä»‹ç»äº†å›½å†…èŠ‚ç‚¹çš„é€‰æ‹©å’Œè‡ªå»ºçš„æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨Gitè‡ªåŠ¨åŒ–æäº¤æ›´æ–°ã€‚æ³¨æ„äº‹é¡¹åŒ…æ‹¬åŒ…åä¸èƒ½é‡å¤ã€ç‰ˆæœ¬å·æ›´æ–°éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ç­‰ã€‚
  - è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨npmå›¾åºŠè¿›è¡Œå›¾ç‰‡å­˜å‚¨å’Œå¼•ç”¨ã€‚é¦–å…ˆéœ€è¦æ³¨å†Œè´¦å·å¹¶å®Œæˆé‚®ç®±éªŒè¯ï¼Œç„¶åŽä¸‹è½½å›¾åºŠä»“åº“å¹¶è¿›è¡Œåˆå§‹åŒ–é…ç½®ã€‚åŒ…åéœ€è¦äº‹å…ˆç¡®è®¤æ²¡æœ‰å’Œåˆ«äººå·²å‘å¸ƒçš„åŒ…é‡å¤ã€‚å»ºè®®ä½¿ç”¨å›½å†…èŠ‚ç‚¹è¿›è¡Œä¸Šä¼ å’Œéƒ¨ç½²ï¼Œå¯ä»¥èŠ‚çœæ—¶é—´å’Œé¿å…éœ€è¦ä½¿ç”¨æ¢¯å­ã€‚æ¯æ¬¡æ›´æ–°å›¾åºŠéƒ½éœ€è¦å…ˆä¿®æ”¹ç‰ˆæœ¬å·ï¼Œç„¶åŽè§¦å‘éƒ¨ç½²ã€‚å¤§ç‰ˆæœ¬æ›´æ–°éœ€è¦æ‰‹åŠ¨æ”¹å˜ç‰ˆæœ¬å·ã€‚
abbrlink: 9dcc73dd
date: 2024-09-28 08:11:56
toc_number:
toc_style_simple:
aplayer:
---

ä½ å¥½ï¼Œæˆ‘æ˜¯æ‚¦åˆ›ã€‚

æœ¬æ–‡å‚è€ƒå®‰çŸ¥é±¼å¤§ä½¬çš„æ–‡ç« ï¼Œä¸ºäº†æ–¹ä¾¿æœªæ¥ä½¿ç”¨å’Œç¨³å®šï¼Œç‰¹æ­¤æ•´ç†æ­¤æ–‡ç« ã€‚

1. é¦–å…ˆéœ€è¦æ³¨å†Œä¸€ä¸ª npm çš„è´¦å·ã€‚è®¿é—® [npm æ³¨å†Œé¡µé¢](https://www.npmjs.com/signup/)

{% folding blue close, å›¾1 %}
![](01-ä½¿ç”¨npmå½“å›¾åºŠ/image-7.png)
{% endfolding %}

{% folding blue close, å›¾2 %}
![](01-ä½¿ç”¨npmå½“å›¾åºŠ/image-8.png)
{% endfolding %}




2. å®Œæˆé‚®ç®±éªŒè¯ï¼Œæ³¨å†Œå®ŒæˆåŽè¿›å…¥è´¦å·ç®¡ç†ç•Œé¢:å¤´åƒ->Accountï¼Œæ‹‰å€’æœ€ä¸Šæ–¹ï¼Œä½ ä¼šçœ‹åˆ° `You have not verified your email address` å­—æ ·çš„æç¤ºï¼Œç‚¹å‡»ä»¥åŽæŒ‰æç¤ºæ­¥éª¤éªŒè¯ä½ çš„é‚®ç®±ã€‚

![](01-ä½¿ç”¨npmå½“å›¾åºŠ/image-2.png)

3. æ‰¾åˆ°æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„å›¾åºŠä»“åº“ï¼Œåœ¨æœ¬åœ°åˆé€‚çš„ä½ç½®æŠŠå®ƒ `clone` ä¸‹æ¥ã€‚æ‰¾ä¸ªç©ºæ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯è¾“å…¥

```bash
git clone git@github.com:[username]/[AssetsRepo].git
#æˆ–è€…
git clone https://github.com/[username]/[AssetsRepo].git
```

4. åœ¨ clone ä¸‹æ¥çš„ `[AssetsRepo]` æ–‡ä»¶å¤¹å†…æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤åˆ‡æ¢å›žåŽŸç”Ÿæº


```bash
npm config set registry https://registry.npmjs.org
```

5. æ·»åŠ æœ¬åœ° npm ç”¨æˆ·è®¾ç½®

```bash
# ä»…ç¬¬ä¸€æ¬¡ä½¿ç”¨éœ€è¦æ·»åŠ ç”¨æˆ·ï¼Œä¹‹åŽä¼šæç¤ºä½ è¾“å…¥ä½ çš„npmè´¦å·å¯†ç ä»¥åŠæ³¨å†Œé‚®ç®±
npm adduser
# éžç¬¬ä¸€æ¬¡ä½¿ç”¨ç›´æŽ¥ç™»å½•å³å¯ï¼Œä¹‹åŽä¼šæç¤ºä½ è¾“å…¥ä½ çš„npmè´¦å·å¯†ç ä»¥åŠæ³¨å†Œé‚®ç®±
npm login
```

6. è¿è¡Œ npm åˆå§‹åŒ–æŒ‡ä»¤ï¼ŒæŠŠæ•´ä¸ªå›¾åºŠä»“åº“æ‰“åŒ…ï¼ŒæŒ‰ç…§æŒ‡ç¤ºè¿›è¡Œé…ç½®ï¼Œæ³¨æ„éœ€è¦äº‹å…ˆç¡®è®¤ä½ çš„åŒ…åæ²¡æœ‰å’Œåˆ«äººå·²å‘å¸ƒçš„åŒ…é‡å¤ï¼Œå¯ä»¥åœ¨ npm å®˜ç½‘æœç´¢ç›¸åº”åŒ…åï¼Œæœä¸åˆ°å°±è¯´æ˜Žè¿˜æ²¡è¢«å ç”¨ã€‚

```bash
npm init
```

![](01-ä½¿ç”¨npmå½“å›¾åºŠ/image-3.png)

æœ€åŽä¼šè¾“å‡ºä¸€æ®µ `package.json`ï¼Œè¯·æ±‚ç¡®è®¤ï¼Œè¾“å…¥ `yes` å³å¯ã€‚

7. ç„¶åŽè¾“å…¥å‘å¸ƒæŒ‡ä»¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠåŒ…å‘å¸ƒåˆ° `npm` ä¸Šäº†ã€‚

```bash
npm publish
```

8. `jsdelivr+npm` çš„å›¾ç‰‡å¼•ç”¨å’Œ `jsdelivr+github` å¾ˆç›¸ä¼¼ï¼Œä¾‹å¦‚æˆ‘åœ¨ `[AssetsRepo]` ä»“åº“é‡Œå­˜æ”¾çš„ `/img/index.png` 

```bash
# jsDelivr+githubé“¾æŽ¥
https://cdn.jsdelivr.net/gh/[GithubUserName]/[AssetsRepo]/img/index.png
# jsDelivr+npmé“¾æŽ¥
https://cdn.jsdelivr.net/npm/[NpmPackageName]/img/index.png
```

> å¯ä»¥çœ‹åˆ° Npm åªéœ€è¦æä¾›åŒ…åå³å¯ã€‚è¿™ä¹Ÿæ˜¯ä¸€å¼€å§‹è¦æ±‚åŒ…åä¸é‡å¤çš„åŽŸå› ä¹‹ä¸€

`jsDelivr+Npm` ä¾ç„¶æœ‰ 100MB çš„åŒ…å¤§å°é™åˆ¶ï¼Œä½†æ˜¯ NPM æœ‰ä¸°å¯Œçš„å›½å†…èŠ‚ç‚¹ã€‚å¯ä»¥æŒ‘é€‰ä¸€ä¸ªä½¿ç”¨ã€‚ä¸ªäººæŽ¨èçŸ¥ä¹Žçš„ã€‚æ²¡æœ‰å¤§å°é™åˆ¶ï¼Œè€Œä¸”ä¹Ÿå¾ˆç¨³å®šã€‚

```bash
ã€jsdå‡ºå“ï¼Œç½‘å®¿å›½å†…èŠ‚ç‚¹ã€‘
https://cdn.jsdelivr.net/npm/:package@:version/:file
ã€unpkg è‡ªå»ºã€‘
https://cdn.cbd.int/:package@:version/:file
```

å½“ç„¶ä½ ä¹Ÿå¯ä»¥åˆ©ç”¨ [unpkg](https://unpkg.com/) è‡ªå»ºã€‚(UNPKG æ˜¯ä¸€ä¸ªå†…å®¹æºè‡ª npm çš„å…¨çƒå¿«é€Ÿ CDNã€‚å®ƒéƒ¨ç½²åœ¨ cloudflare ä¸Šï¼Œåœ¨å¤§é™†åœ°åŒºè®¿é—®åˆ°çš„æ˜¯é¦™æ¸¯èŠ‚ç‚¹ã€‚æ‰€ä»¥é€Ÿåº¦ä¹Ÿä¸é”™ã€‚)

```bash
https://unpkg.com/:package@:version/:file
```


9. å¦‚æžœæ¯æ¬¡éƒ½è¦åœ¨æœ¬åœ°è¿›è¡Œ `npm publish` çš„è¯ï¼Œnpm çš„æäº¤æ˜¯æ•´ä¸ªåŒ…ä¸€èµ·ä¸Šä¼ çš„ï¼Œä¸å­˜åœ¨å¢žé‡æ›´æ–°ï¼Œè€—æ—¶ä¸è¯´ï¼Œè€Œä¸”è¿˜å¾€å¾€éœ€è¦æž¶æ¢¯å­æ‰èƒ½æ­£å¸¸ä¸Šä¼ ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå®ƒäº¤ç»™ github action æ¥å®Œæˆã€‚ 
   - åœ¨ [npm å®˜ç½‘](https://www.npmjs.com/) ->å¤´åƒ->`Access Tokens`->`Generate New Token`,å‹¾é€‰ `Automation` é€‰é¡¹ï¼Œ`Token` åªä¼šæ˜¾ç¤ºè¿™ä¸€æ¬¡ï¼Œä¹‹åŽå¦‚æžœå¿˜è®°äº†å°±åªèƒ½é‡æ–°ç”Ÿæˆé‡æ–°é…ç½®äº†ã€‚
    
      ![](01-ä½¿ç”¨npmå½“å›¾åºŠ/image-4.png)
      
     ![](01-ä½¿ç”¨npmå½“å›¾åºŠ/image-9.png)
     
     
     
   - åœ¨ github çš„ `[AssetsRepo]` ä»“åº“è®¾ç½®é¡¹é‡Œæ·»åŠ ä¸€ä¸ªåä¸º `NPM_TOKEN` çš„ `secrets` ï¼ŒæŠŠèŽ·å–çš„ Npm çš„ Access token è¾“å…¥è¿›åŽ»ã€‚
   
      
   
      ![](01-ä½¿ç”¨npmå½“å›¾åºŠ/image-6.png)
   
   - åœ¨æœ¬åœ°çš„ `[AssetsRepo]` æ–‡ä»¶å¤¹ä¸‹æ–°å»º `[AssetsRepo]/.github/workflows/autopublish.yml`,
   
      ```yml
      name: Node.js Package
      # ç›‘æµ‹å›¾åºŠåˆ†æ”¯ï¼Œ2020å¹´10æœˆåŽgithubæ–°å»ºä»“åº“é»˜è®¤åˆ†æ”¯æ”¹ä¸ºmainï¼Œè®°å¾—æ›´æ”¹
      on:
        push:
          branches:
            - master
      
      jobs:
        publish-npm:
          runs-on: ubuntu-latest
          steps:
            - uses: actions/checkout@v2
            - uses: actions/setup-node@v1
              with:
                node-version: "12.x"
                registry-url: https://registry.npmjs.org/
            - run: npm publish
              env:
                NODE_AUTH_TOKEN: ${{secrets.npm_token}}
      ```
   
   - åœ¨æœ¬åœ°çš„ `[AssetsRepo]` æ–‡ä»¶å¤¹ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œä¸Šä¼ æ–°å¢žå†…å®¹è‡³ githubï¼Œå³å¯è§¦å‘éƒ¨ç½²ã€‚
   
      ```bash
      # å°†æ›´æ”¹æäº¤
      git add .
      git commit -m "npm publish"
      # æ›´æ–°packageç‰ˆæœ¬å·
      npm version patch
      # æŽ¨é€è‡³githubè§¦å‘action
      git push
      ```


{% note warning simple %}

æ­¤å¤„çš„å››è¡ŒæŒ‡ä»¤é¡ºåºä¸¥æ ¼ã€‚

æ¯æ¬¡æ›´æ–° npm å›¾åºŠéƒ½éœ€è¦å…ˆä¿®æ”¹`[AssetsRepo]\package.json`é‡Œçš„`version`,ä¹Ÿå°±æ˜¯ç‰ˆæœ¬å·ã€‚

è€Œ`npm version patch`å³ä¸ºæ›´æ–° package.json é‡Œçš„ç‰ˆæœ¬å·çš„æŒ‡ä»¤ï¼Œæ•ˆæžœæ˜¯æœ«å°¾ç‰ˆæœ¬å·+1ï¼Œä¾‹å¦‚`0.0.1=>0.0.2`ã€`1.1.3=>1.1.4`ã€‚å…åŽ»äº†æ‰“å¼€`package.json`å†ä¿®æ”¹ç‰ˆæœ¬å·çš„éº»çƒ¦ã€‚ï¼ˆå¤§ç‰ˆæœ¬æ›´æ–°è¿˜æ˜¯éœ€è¦æ‰‹åŠ¨æ”¹çš„ï¼‰

æ›´æ–° npm å›¾åºŠåŠ¡å¿…è¦è®°å¾—æ›´æ–°`package.json`é‡Œçš„ç‰ˆæœ¬å·ï¼

{% endnote %}



{% span center log large blue, ðŸª§ %}

{% folding blue close, å…¬ä¼—å·ï¼šAIæ‚¦åˆ›ã€äºŒç»´ç ã€‘ %}

![](https://bornforthis.cn/gzh.jpg)

{% endfolding %}

{% tip info %}AIæ‚¦åˆ›Â·ç¼–ç¨‹ä¸€å¯¹ä¸€

> AIæ‚¦åˆ›Â·æŽ¨å‡ºè¾…å¯¼ç­å•¦ï¼ŒåŒ…æ‹¬ã€ŒPython è¯­è¨€è¾…å¯¼ç­ã€C++ è¾…å¯¼ç­ã€java è¾…å¯¼ç­ã€ç®—æ³•/æ•°æ®ç»“æž„è¾…å¯¼ç­ã€å°‘å„¿ç¼–ç¨‹ã€pygame æ¸¸æˆå¼€å‘ã€Webã€Linuxã€ï¼Œå…¨éƒ¨éƒ½æ˜¯ä¸€å¯¹ä¸€æ•™å­¦ï¼šä¸€å¯¹ä¸€è¾…å¯¼ + ä¸€å¯¹ä¸€ç­”ç–‘ + å¸ƒç½®ä½œä¸š + é¡¹ç›®å®žè·µç­‰ã€‚å½“ç„¶ï¼Œè¿˜æœ‰çº¿ä¸‹çº¿ä¸Šæ‘„å½±è¯¾ç¨‹ã€Photoshopã€Premiere ä¸€å¯¹ä¸€æ•™å­¦ã€QQã€å¾®ä¿¡åœ¨çº¿ï¼Œéšæ—¶å“åº”ï¼å¾®ä¿¡ï¼šJiabcdefh
>
> C++ ä¿¡æ¯å¥¥èµ›é¢˜è§£ï¼Œé•¿æœŸæ›´æ–°ï¼é•¿æœŸæ‹›æ”¶ä¸€å¯¹ä¸€ä¸­å°å­¦ä¿¡æ¯å¥¥èµ›é›†è®­ï¼ŒèŽ†ç”°ã€åŽ¦é—¨åœ°åŒºæœ‰æœºä¼šçº¿ä¸‹ä¸Šé—¨ï¼Œå…¶ä»–åœ°åŒºçº¿ä¸Šã€‚å¾®ä¿¡ï¼šJiabcdefh
>
> æ–¹æ³•ä¸€ï¼š[QQ](http://wpa.qq.com/msgrd?v=3&uin=1432803776&site=qq&menu=yes)
>
> æ–¹æ³•äºŒï¼šå¾®ä¿¡ï¼šJiabcdefh

{% endtip %}
