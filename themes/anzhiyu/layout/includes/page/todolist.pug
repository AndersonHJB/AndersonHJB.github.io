#todolist-box
    - let todo_background = page.top_background
    .author-content.author-content-item.todolist.single(style=`${todo_background ? `background: url(${todo_background}) top / cover no-repeat;` : ""}`)
        .card-content
            .author-content-item-tips Todo
            span.author-content-item-title 待办清单
            .content-bottom
            .tips 耽误太多时间，事情可就做不完了
            .banner-button-group
              a.banner-button(onclick='pjax.loadUrl("/about/")')
                i.anzhiyufont.anzhiyu-icon-arrow-circle-right(style='font-size: 1.5rem')
                span.banner-button-text 我的更多
    #todolist-main
        #todolist-left
            each i in site.data.todolist
                - let allCompleted = i.todo_list.every(task => task.completed); // 检查所有任务是否都完成
                if i.seat == 'left'
                    .todolist-item(data-card=i.card data-all-completed=allCompleted)
                        h3.todolist-title=i.class_name
                        if i.date
                          p.todolist-date(data-date=i.date)
                            | 创建日期：#{i.date}
                            span.date-difference // 这里将显示日期差
                        
                        // 展开/折叠按钮
                        button.toggle-button(onclick="toggleCard(this)") #{allCompleted ? "展开" : "折叠"}

                        ul.todolist-ul(style=allCompleted || i.card ? "display: none;" : "")
                            each item in i.todo_list
                                 - var listItemClass = item.completed ? 'todolist-li-done' : 'todolist-li'
                                 li(class=listItemClass)
                                    if item.completed
                                        i.fa-regular.fa-circle-check
                                        span=item.content
                                        if item.due_date
                                          span.due-date 已完成于：#{item.due_date}
                                    else 
                                        i.fa-regular.fa-circle
                                        span=item.content
        #todolist-right
            each i in site.data.todolist
                - let allCompleted = i.todo_list.every(task => task.completed); // 检查所有任务是否都完成
                if i.seat == 'right'
                    .todolist-item(data-card=i.card data-all-completed=allCompleted)
                        h3.todolist-title=i.class_name
                        if i.date
                          p.todolist-date(data-date=i.date)
                            | 创建日期：#{i.date}
                            span.date-difference // 这里将显示日期差

                        // 展开/折叠按钮
                        button.toggle-button(onclick="toggleCard(this)") #{allCompleted ? "展开" : "折叠"}

                        ul.todolist-ul(style=allCompleted || i.card ? "display: none;" : "")
                            each item in i.todo_list
                                 - var listItemClass = item.completed ? 'todolist-li-done' : 'todolist-li'
                                 li(class=listItemClass)
                                    if item.completed
                                        i.fa-regular.fa-circle-check
                                        span=item.content
                                        if item.due_date
                                          span.due-date 已完成于：#{item.due_date}
                                    else 
                                        i.fa-regular.fa-circle
                                        span=item.content
