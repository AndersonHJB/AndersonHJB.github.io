// if hexo-config('preloader')
//   .loading-bg
//     display: flex;
//     width: 100%;
//     height: 100%;
//     position: fixed;
//     background: var(--anzhiyu-card-bg);
//     z-index: 1001;
//     opacity: 1;
//     overflow hidden
//     transition: 0.2s;
//     animation: showLoading 0.3s 0s backwards;
//     &::-webkit-scrollbar 
//       display: none

//   #loading-box
//     user-select none
//     .loading-img
//       width: 100px;
//       height: 100px;
//       border-radius: 50%;
//       margin: auto;
//       border: 4px solid #f0f0f2;
//       animation-duration: 0.2s;
//       animation-name: loadingAction;
//       animation-iteration-count: infinite;
//       animation-direction: alternate;
//     .loading-image-dot
//       width: 30px;
//       height: 30px;
//       background: #6bdf8f;
//       position: absolute;
//       border-radius: 50%;
//       border: 6px solid #fff;
//       top: 50%;
//       left: 50%;
//       transform: translate(18px, 24px);
//     &.loaded
//       .loading-bg
//         opacity: 0;
//         z-index: -1000;

//   @keyframes loadingAction
//     0% {
//         opacity: 1;
//     }

//     100% {
//         opacity: .4;
//     }
if hexo-config('preloader')
  .loading-bg
    display: flex
    width: 100%
    height: 100%
    position: fixed
    z-index: 1001
    transition: 0.3s
    background: transparent
    pointer-events: none

    .left-panel, .right-panel
      width: 50%
      height: 100%
      background: var(--anzhiyu-background)
      position: fixed
      top: 0
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1)
      display: flex
      align-items: center
      justify-content: center

    .couplet-container
      background: rgba(216, 0, 15, 0.8)
      position: relative
      box-shadow: 0 0 20px rgba(220, 143, 3, 0.1)
      border-radius: 30px 30px 5px 5px
      width: 90px
      height: 450px
      display: flex
      align-items: center
      justify-content: center
      border: 4px solid #ffd900d4
      
      // 添加内层边框
      &:before
        content: ""
        position: absolute
        top: 10px
        left: 10px
        right: 10px
        bottom: 10px
        border: 2px solid #ffd900d4
        border-radius: 25px 25px 3px 3px
        opacity: 0.6

      // 添加上下部装饰
      .couplet-decor
        &.top
          position: absolute
          top: -15px
          left: 50%
          transform: translateX(-50%)
          width: 50px
          height: 30px
          background: rgba(216, 0, 15, 0.8)
          border: 4px solid #ffd900d4
          border-radius: 15px 15px 0 0
          &:before
            content: ""
            position: absolute
            top: -12px
            left: 50%
            transform: translateX(-50%)
            width: 20px
            height: 20px
            background: rgba(216, 0, 15, 0.8)
            border: 4px solid #dcbf03
            border-radius: 50%
        &.bottom
          position: absolute
          bottom: -15px
          left: 50%
          transform: translateX(-50%)
          width: 50px
          height: 30px
          background: rgba(216, 0, 15, 0.8)
          border: 4px solid #ffd900d4
          border-radius: 0 0 15px 15px
          &:after
            content: ""
            position: absolute
            bottom: -12px
            left: 50%
            transform: translateX(-50%)
            width: 20px
            height: 20px
            background: rgba(216, 0, 15, 0.8)
            border: 4px solid #ffd900d4
            border-radius: 50%

    .couplet
      color: #ffd900d4
      font-size: 2.5rem
      writing-mode: vertical-rl
      font-family: "华文行楷", cursive
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2)
      position: relative
      z-index: 1
      letter-spacing: 15px
      line-height: 1.3
      font-weight: bold
      margin: 0 auto

    .left-panel
      left: 0
      transform: translateX(-100%)
      
    .right-panel
      right: 0
      transform: translateX(100%)

    .center-panel
      position: fixed
      top: 50px
      left: 50%
      transform: translateX(-50%)
      z-index: 2
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1)
      
      .horizontal-scroll
        background: rgba(216, 0, 15, 0.8)
        width: 240px
        height: 80px
        border: 4px solid #ffd900d4
        border-radius: 20px
        position: relative
        box-shadow: 0 0 20px rgba(220, 143, 3, 0.1)
        display: flex
        align-items: center
        justify-content: center
        box-sizing: border-box
        padding: 0 25px
        
        // 内层边框
        &:before
          content: ""
          position: absolute
          top: 10px
          left: 10px
          right: 10px
          bottom: 10px
          border: 2px solid #ffd900d4
          border-radius: 25px
          opacity: 0.6
        
        // 左右装饰
        .couplet-decor
          &.left, &.right
            position: absolute
            top: 50%
            transform: translateY(-50%)
            width: 30px
            height: 50px
            background: rgba(216, 0, 15, 0.8)
            border: 4px solid #ffd900d4
            
          &.left
            left: -15px
            border-radius: 15px 0 0 15px
            &:before
              content: ""
              position: absolute
              left: -12px
              top: 50%
              transform: translateY(-50%)
              width: 20px
              height: 20px
              background: rgba(216, 0, 15, 0.8)
              border: 4px solid #ffd900d4
              border-radius: 50%
            
          &.right
            right: -15px
            border-radius: 0 15px 15px 0
            &:after
              content: ""
              position: absolute
              right: -12px
              top: 50%
              transform: translateY(-50%)
              width: 20px
              height: 20px
              background: rgba(216, 0, 15, 0.8)
              border: 4px solid #ffd900d4
              border-radius: 50%

        .couplet
          color: #ffd900d4
          font-size: 2.5rem
          writing-mode: horizontal-tb
          font-family: "华文行楷", cursive
          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2)
          position: relative
          z-index: 1
          letter-spacing: 0.3em
          font-weight: bold
          text-align: center
          white-space: nowrap
          margin-left: 0.3em;

  #loading-box
    user-select: none
    position: fixed
    z-index: 1001
    width: 100%
    height: 100%
    transition: all 0.3s ease-out
    pointer-events: none
    
    // 默认状态：面板合拢
    .left-panel
      transform: translateX(0)
    .right-panel
      transform: translateX(0)
    
    // 加载完成：面板分开
    &.loaded
      .left-panel
        transform: translateX(-100%)
      .right-panel
        transform: translateX(100%)
      .center-panel
        transform: translateX(-50%) translateY(-200%)

  // 添加灯笼样式
  for num in 1 2 3 4
    .deng-box{num}
      position: fixed
      z-index: 9999
      pointer-events: none

  .deng-box1
    top: -30px
    left: -1px

  .deng-box2
    top: -25px
    left: 184px

  .deng-box3
    top: -28px
    right: 11px

  .deng-box4
    top: -26px
    right: 183px

  .deng
    position: relative
    width: 120px
    height: 90px
    margin: 50px
    background: rgba(216, 0, 15, 0.8)
    border-radius: 50% 50%
    transform-origin: 50% -100px
    animation: swing 3s infinite ease-in-out
    box-shadow: -5px 5px 50px 4px rgba(250, 108, 0, 1)

    &:before
      position: absolute
      top: -7px
      left: 29px
      height: 12px
      width: 60px
      content: " "
      display: block
      z-index: 999
      border-radius: 5px 5px 0 0
      border: solid 1px #dc8f03
      background: #ffa500
      background: linear-gradient(to right, #dc8f03, #ffa500, #dc8f03, #ffa500, #dc8f03)

    &:after
      position: absolute
      bottom: -7px
      left: 10px
      height: 12px
      width: 60px
      content: " "
      display: block
      margin-left: 20px
      border-radius: 0 0 5px 5px
      border: solid 1px #dc8f03
      background: #ffa500
      background: linear-gradient(to right, #dc8f03, #ffa500, #dc8f03, #ffa500, #dc8f03)

  .deng-a
    width: 100px
    height: 90px
    background: rgba(216, 0, 15, 0.1)
    margin: 12px 8px 8px 10px
    border-radius: 50% 50%
    border: 2px solid #dc8f03

  .deng-b
    width: 45px
    height: 90px
    background: rgba(216, 0, 15, 0.1)
    margin: -2px 8px 8px 26px
    border-radius: 50% 50%
    border: 2px solid #dc8f03

  .xian
    position: absolute
    top: -50px
    left: 60px
    width: 2px
    height: 50px
    background: #dc8f03

  .shui-a
    position: relative
    width: 5px
    height: 20px
    margin: -5px 0 0 59px
    animation: swing 4s infinite ease-in-out
    transform-origin: 50% -45px
    background: #ffa500
    border-radius: 0 0 5px 5px

  .shui-b
    position: absolute
    top: 14px
    left: -2px
    width: 10px
    height: 10px
    background: #dc8f03
    border-radius: 50%

  .shui-c
    position: absolute
    top: 18px
    left: -2px
    width: 10px
    height: 35px
    background: #ffa500
    border-radius: 0 0 0 5px

  .deng-t
    font-family: "华文行楷", Arial, Lucida Grande, Tahoma, sans-serif
    font-size: 3.2rem
    color: #dc8f03
    font-weight: bold
    line-height: 85px
    text-align: center

  @keyframes swing
    0%
      transform: rotate(-10deg)
    50%
      transform: rotate(10deg)
    100%
      transform: rotate(-10deg)

  // 适配暗色模式
  [data-theme='dark']
    .deng
      background: rgba(216, 0, 15, 0.8)
    .deng-a,
    .deng-b
      background: rgba(216, 0, 15, 0.1)

@media screen and (max-width: 768px)
  if hexo-config('preloader')
    // 在移动端隐藏灯笼
    .deng-box1,
    .deng-box2,
    .deng-box3,
    .deng-box4
      display: none !important